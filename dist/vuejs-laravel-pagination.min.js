!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.VueLaravelPagination=t():e.VueLaravelPagination=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=a.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),a=r.n(n),i=r(4),s=r(2),o=s(a.a,i.a,!1,null,null,null);t.default=o.exports},function(e,t){e.exports=function(e,t,r,n,a,i){var s,o=e=e||{},u=typeof e.default;"object"!==u&&"function"!==u||(s=e,o=e.default);var p="function"==typeof o?o.options:o;t&&(p.render=t.render,p.staticRenderFns=t.staticRenderFns,p._compiled=!0),r&&(p.functional=!0),a&&(p._scopeId=a);var c;if(i?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},p._ssrRegister=c):n&&(c=n),c){var l=p.functional,f=l?p.render:p.beforeCreate;l?(p._injectStyles=c,p.render=function(e,t){return c.call(t),f(e,t)}):p.beforeCreate=f?[].concat(f,c):[c]}return{esModule:s,exports:o,options:p}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{resourceUrl:{type:String,required:!0},options:{type:Object,required:!1,default:function(){return{}}},bus:{type:Object,default:function(){return VueBus||eventHub||{}}}},data:function(){return{current_page:"",last_page:"",next_page_url:"",prev_page_url:"",config:{remote_data:"data",remote_current_page:"current_page",remote_last_page:"last_page",remote_next_page_url:"next_page_url",remote_prev_page_url:"prev_page_url",previous_button_text:"&laquo;",next_button_text:"&raquo;",onEachSide:3,divider:"...",hideIfEmpty:!0,params:{},headers:{}}}},methods:{fetchData:function(e){var t=this,r=this.transformPageUrl(e),n=r.url,a=r.params;axios.get(n,{headers:this.config.headers,params:Object.assign({},a,this.config.params)}).then(function(e){var r=e.data;t.handleResponseData(r)}).catch(function(e){console.log("Fetching data failed.",e)})},handleResponseData:function(e){this.makePagination(e);var t=this.getNestedValue(e,this.config.remote_data);this.$emit("update",t)},makePagination:function(e){this.current_page=this.getNestedValue(e,this.config.remote_current_page),this.last_page=this.getNestedValue(e,this.config.remote_last_page),this.next_page_url=this.current_page===this.last_page?null:this.getNestedValue(e,this.config.remote_next_page_url),this.prev_page_url=1===this.current_page?null:this.getNestedValue(e,this.config.remote_prev_page_url)},updateConfig:function(){this.config=Object.assign({},this.config,this.$options.config||{},this.options)},transformPageUrl:function(e){e=e||this.resourceUrl;var t=e.split("?");if(2===t.length){var r=t[1].split("&"),n={};return r.forEach(function(e){e=e.split("="),n[e[0]]=e[1]}),{url:t[0],params:n}}return{url:t[0],params:{}}},getNestedValue:function(e,t){var r=t;t=t.split(".");for(var n=e,a=0;a<t.length;a++)n=n[t[a]];return void 0===n&&console.log("[VueLaravelPagination] Response doesn't contain key "+r+"!"),n}},computed:{elements:function(){var e=this.config.onEachSide,t=this.config.divider,r=[];if(this.last_page<2*e+6){for(var n=1;n<=this.last_page;n++)r.push({key:n,item:this.resourceUrl+"?page="+n});return r}var a=2*e;if(this.current_page<=a){for(var i=1;i<=a+2;i++)r.push({key:i,item:this.resourceUrl+"?page="+i});r.push({key:"divider",item:t});for(var s=this.last_page-1;s<=this.last_page;s++)r.push({key:s,item:this.resourceUrl+"?page="+s});return r}if(this.current_page>this.last_page-a){for(var o=1;o<=2;o++)r.push({key:o,item:this.resourceUrl+"?page="+o});r.push({key:"divider",item:t});for(var u=this.last_page-(a+2);u<=this.last_page;u++)r.push({key:u,item:this.resourceUrl+"?page="+u});return r}for(var p=1;p<=2;p++)r.push({key:p,item:this.resourceUrl+"?page="+p});r.push({key:"divider",item:t});for(var c=this.current_page-e;c<=this.current_page+e;c++)r.push({key:c,item:this.resourceUrl+"?page="+c});r.push({key:"divider",item:t});for(var l=this.last_page-1;l<=this.last_page;l++)r.push({key:l,item:this.resourceUrl+"?page="+l});return r}},watch:{resourceUrl:function(){this.fetchData()},options:{handler:function(){this.updateConfig()},deep:!0}},created:function(){var e=this;this.updateConfig(),this.fetchData(),this.bus.$on("update-pagination-items",function(){e.fetchData()})}}},function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",{directives:[{name:"show",rawName:"v-show",value:!e.config.hideIfEmpty||!(e.config.hideIfEmpty&&!e.next_page_url&&!e.prev_page_url),expression:"!config.hideIfEmpty || !(config.hideIfEmpty && !next_page_url && !prev_page_url)"}],staticClass:"pagination vl-pagination"},[r("li",{class:{disabled:1==e.current_page}},[1==e.current_page?r("span",{domProps:{innerHTML:e._s(e.config.previous_button_text)}}):r("a",{attrs:{href:"#",rel:"prev"},domProps:{innerHTML:e._s(e.config.previous_button_text)},on:{click:function(t){t.preventDefault(),e.fetchData(e.prev_page_url)}}})]),e._v(" "),e._l(e.elements,function(t){return r("li",{class:{disabled:"divider"==t.key,active:t.key==e.current_page}},[t.key==e.current_page?r("span",[e._v(e._s(t.key))]):"divider"===t.key?r("span",[e._v(e._s(t.item))]):r("a",{attrs:{href:"#"},on:{click:function(r){r.preventDefault(),e.fetchData(t.item)}}},[e._v(e._s(t.key))])])}),e._v(" "),r("li",{class:{disabled:e.current_page==e.last_page}},[e.current_page<e.last_page?r("a",{attrs:{href:"#",rel:"next"},domProps:{innerHTML:e._s(e.config.next_button_text)},on:{click:function(t){t.preventDefault(),e.fetchData(e.next_page_url)}}}):r("span",{domProps:{innerHTML:e._s(e.config.next_button_text)}})])],2)},a=[],i={render:n,staticRenderFns:a};t.a=i}])});